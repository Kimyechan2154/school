# 🔐 AES-128 학습 기록 (Part 1. 구조와 원리)

부채널 분석(SCA) 프로젝트를 위한 선행 학습으로, AES-128의 전체 구조와 데이터 흐름을 정리한 문서입니다.

## 📚 학습 자료
- **출처:** [유튜브 - AES! (Computerphile)](https://www.youtube.com/watch?v=C4ATDMIz5wc)
- **주제:** AES의 배경, 안전한 암호의 조건, 작동 단계

## 💡 핵심 개념

### 1. 안전한 암호의 두 가지 성질
단순 `XOR` 암호의 한계를 넘기 위해 현대 암호가 갖춰야 할 조건입니다.
- **혼돈 (Confusion):** 암호문과 키 사이의 관계를 숨기는 성질.
  - AES의 **`SubBytes` (S-Box)** 단계가 담당.
- **확산 (Diffusion):** 평문의 작은 변화(1비트)가 암호문 전체에 퍼지는 성질.
  - AES의 **`ShiftRows`**와 **`MixColumns`** 단계가 담당.

### 2. AES-128 기본 스펙
- **블록 크기:** 128비트 (16바이트) - 항상 고정.
- **키 길이:** 128비트 (AES-128 기준).
- **라운드 수:** 총 10회 반복.

---

## ⚠️ 오개념 바로잡기

학습 도중 헷갈렸던 역할과 규칙을 다음과 같이 정리했습니다.

### 1. `ShiftRows` vs `MixColumns` 역할 혼동
- ❌ **오개념:** `ShiftRows`가 값을 곱하고, `MixColumns`가 자리를 옮긴다고 착각함.
- ✅ **정정:**
  - **`ShiftRows` (행 이동):** 이름 그대로 행을 옆으로 **이동**시키는 단계. (단순 위치 변경)
  - **`MixColumns` (열 섞기):** 수학적 연산으로 열 내부의 값을 **섞는** 단계. (값 자체가 변함)

### 2. 마지막 라운드 규칙
- ❌ **오개념:** 마지막에는 `AddRoundKey`(키와 XOR)를 하지 않는다.
- ✅ **정정:**
  - 마지막 라운드에서 생략되는 것은 **`MixColumns`**임.
  - **`AddRoundKey`는 필수.** (마지막에 키로 잠그지 않으면 복호화가 쉬워짐)

---

## 🗺️ AES-128 데이터 흐름

부채널 분석 시점(1라운드 S-Box)을 파악하기 위한 전체 순서입니다.

1.  **입력:** 평문 128비트, 키 128비트
2.  **초기 라운드:**
    - `AddRoundKey` (평문 `XOR` 키)
3.  **메인 라운드 (1~9회 반복):**
    - `SubBytes` (S-Box 치환) **👈 분석 핵심 지점**
    - `ShiftRows` (행 이동)
    - `MixColumns` (열 섞기)
    - `AddRoundKey` (키 `XOR`)
4.  **마지막 라운드 (10회):**
    - `SubBytes`
    - `ShiftRows`
    - **(`MixColumns` 생략)**
    - `AddRoundKey`
5.  **출력:** 암호문 128비트
